{"ast":null,"code":"import _regeneratorRuntime from\"D:/Blockchain Project/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Blockchain Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Blockchain Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Web3 from\"web3\";import SupplyChainABI from\"./artifacts/SupplyChain.json\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AssignRoles(){var history=useHistory();useEffect(function(){loadWeb3();loadBlockchaindata();},[]);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),currentaccount=_useState2[0],setCurrentaccount=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loader=_useState4[0],setloader=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),SupplyChain=_useState6[0],setSupplyChain=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),RMSname=_useState8[0],setRMSname=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),MANname=_useState10[0],setMANname=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),DISname=_useState12[0],setDISname=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),RETname=_useState14[0],setRETname=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),RMSplace=_useState16[0],setRMSplace=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),MANplace=_useState18[0],setMANplace=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),DISplace=_useState20[0],setDISplace=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),RETplace=_useState22[0],setRETplace=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),RMSaddress=_useState24[0],setRMSaddress=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),MANaddress=_useState26[0],setMANaddress=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),DISaddress=_useState28[0],setDISaddress=_useState28[1];var _useState29=useState(),_useState30=_slicedToArray(_useState29,2),RETaddress=_useState30[0],setRETaddress=_useState30[1];var _useState31=useState(),_useState32=_slicedToArray(_useState31,2),RMS=_useState32[0],setRMS=_useState32[1];var _useState33=useState(),_useState34=_slicedToArray(_useState33,2),MAN=_useState34[0],setMAN=_useState34[1];var _useState35=useState(),_useState36=_slicedToArray(_useState35,2),DIS=_useState36[0],setDIS=_useState36[1];var _useState37=useState(),_useState38=_slicedToArray(_useState37,2),RET=_useState38[0],setRET=_useState38[1];var loadWeb3=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!window.ethereum){_context.next=6;break;}window.web3=new Web3(window.ethereum);_context.next=4;return window.ethereum.enable();case 4:_context.next=7;break;case 6:if(window.web3){window.web3=new Web3(window.web3.currentProvider);}else{window.alert(\"Non-Ethereum browser detected. You should consider trying MetaMask!\");}case 7:case\"end\":return _context.stop();}}},_callee);}));return function loadWeb3(){return _ref.apply(this,arguments);};}();var loadBlockchaindata=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var web3,accounts,account,networkId,networkData,supplychain,i,rmsCtr,rms,manCtr,man,disCtr,dis,retCtr,ret;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setloader(true);web3=window.web3;_context2.next=4;return web3.eth.getAccounts();case 4:accounts=_context2.sent;account=accounts[0];setCurrentaccount(account);_context2.next=9;return web3.eth.net.getId();case 9:networkId=_context2.sent;console.log(networkId);networkData=SupplyChainABI.networks[networkId];if(!networkData){_context2.next=70;break;}supplychain=new web3.eth.Contract(SupplyChainABI.abi,networkData.address);setSupplyChain(supplychain);_context2.next=17;return supplychain.methods.rmsCtr().call();case 17:rmsCtr=_context2.sent;rms={};i=0;case 20:if(!(i<rmsCtr)){_context2.next=27;break;}_context2.next=23;return supplychain.methods.RMS(i+1).call();case 23:rms[i]=_context2.sent;case 24:i++;_context2.next=20;break;case 27:setRMS(rms);_context2.next=30;return supplychain.methods.manCtr().call();case 30:manCtr=_context2.sent;man={};i=0;case 33:if(!(i<manCtr)){_context2.next=40;break;}_context2.next=36;return supplychain.methods.MAN(i+1).call();case 36:man[i]=_context2.sent;case 37:i++;_context2.next=33;break;case 40:setMAN(man);_context2.next=43;return supplychain.methods.disCtr().call();case 43:disCtr=_context2.sent;dis={};i=0;case 46:if(!(i<disCtr)){_context2.next=53;break;}_context2.next=49;return supplychain.methods.DIS(i+1).call();case 49:dis[i]=_context2.sent;case 50:i++;_context2.next=46;break;case 53:setDIS(dis);_context2.next=56;return supplychain.methods.retCtr().call();case 56:retCtr=_context2.sent;ret={};i=0;case 59:if(!(i<retCtr)){_context2.next=66;break;}_context2.next=62;return supplychain.methods.RET(i+1).call();case 62:ret[i]=_context2.sent;case 63:i++;_context2.next=59;break;case 66:setRET(ret);setloader(false);_context2.next=71;break;case 70:window.alert('The smart contract is not deployed to current network');case 71:case\"end\":return _context2.stop();}}},_callee2);}));return function loadBlockchaindata(){return _ref2.apply(this,arguments);};}();if(loader){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"wait\",children:\"Loading...\"})});}var redirect_to_home=function redirect_to_home(){history.push('/');};var handlerChangeAddressRMS=function handlerChangeAddressRMS(event){setRMSaddress(event.target.value);};var handlerChangePlaceRMS=function handlerChangePlaceRMS(event){setRMSplace(event.target.value);};var handlerChangeNameRMS=function handlerChangeNameRMS(event){setRMSname(event.target.value);};var handlerChangeAddressMAN=function handlerChangeAddressMAN(event){setMANaddress(event.target.value);};var handlerChangePlaceMAN=function handlerChangePlaceMAN(event){setMANplace(event.target.value);};var handlerChangeNameMAN=function handlerChangeNameMAN(event){setMANname(event.target.value);};var handlerChangeAddressDIS=function handlerChangeAddressDIS(event){setDISaddress(event.target.value);};var handlerChangePlaceDIS=function handlerChangePlaceDIS(event){setDISplace(event.target.value);};var handlerChangeNameDIS=function handlerChangeNameDIS(event){setDISname(event.target.value);};var handlerChangeAddressRET=function handlerChangeAddressRET(event){setRETaddress(event.target.value);};var handlerChangePlaceRET=function handlerChangePlaceRET(event){setRETplace(event.target.value);};var handlerChangeNameRET=function handlerChangeNameRET(event){setRETname(event.target.value);};var handlerSubmitRMS=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var reciept;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:event.preventDefault();_context3.prev=1;_context3.next=4;return SupplyChain.methods.addRMS(RMSaddress,RMSname,RMSplace).send({from:currentaccount});case 4:reciept=_context3.sent;if(reciept){loadBlockchaindata();}_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);alert(\"An error occured!!!\");case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function handlerSubmitRMS(_x){return _ref3.apply(this,arguments);};}();var handlerSubmitMAN=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event){var reciept;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:event.preventDefault();_context4.prev=1;_context4.next=4;return SupplyChain.methods.addManufacturer(MANaddress,MANname,MANplace).send({from:currentaccount});case 4:reciept=_context4.sent;if(reciept){loadBlockchaindata();}_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);alert(\"An error occured!!!\");case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function handlerSubmitMAN(_x2){return _ref4.apply(this,arguments);};}();var handlerSubmitDIS=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(event){var reciept;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:event.preventDefault();_context5.prev=1;_context5.next=4;return SupplyChain.methods.addDistributor(DISaddress,DISname,DISplace).send({from:currentaccount});case 4:reciept=_context5.sent;if(reciept){loadBlockchaindata();}_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](1);alert(\"An error occured!!!\");case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[1,8]]);}));return function handlerSubmitDIS(_x3){return _ref5.apply(this,arguments);};}();var handlerSubmitRET=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(event){var reciept;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:event.preventDefault();_context6.prev=1;_context6.next=4;return SupplyChain.methods.addRetailer(RETaddress,RETname,RETplace).send({from:currentaccount});case 4:reciept=_context6.sent;if(reciept){loadBlockchaindata();}_context6.next=11;break;case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](1);alert(\"An error occured!!!\");case 11:case\"end\":return _context6.stop();}}},_callee6,null,[[1,8]]);}));return function handlerSubmitRET(_x4){return _ref6.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Current Account Address:\"}),\" \",currentaccount]}),/*#__PURE__*/_jsx(\"span\",{onClick:redirect_to_home,className:\"btn btn-outline-danger btn-sm\",children:\"HOME\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Raw Material Suppliers:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlerSubmitRMS,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangeAddressRMS,placeholder:\"Ethereum Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangeNameRMS,placeholder:\"Raw Material Supplier Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangePlaceRMS,placeholder:\"Based In\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success btn-sm\",onSubmit:handlerSubmitRMS,children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Place\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Ethereum Address\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(RMS).map(function(key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:RMS[key].id}),/*#__PURE__*/_jsx(\"td\",{children:RMS[key].name}),/*#__PURE__*/_jsx(\"td\",{children:RMS[key].place}),/*#__PURE__*/_jsx(\"td\",{children:RMS[key].addr})]},key);})})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Manufacturers:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlerSubmitMAN,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangeAddressMAN,placeholder:\"Ethereum Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangeNameMAN,placeholder:\"Manufacturer Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangePlaceMAN,placeholder:\"Based In\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success btn-sm\",onSubmit:handlerSubmitMAN,children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Place\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Ethereum Address\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(MAN).map(function(key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:MAN[key].id}),/*#__PURE__*/_jsx(\"td\",{children:MAN[key].name}),/*#__PURE__*/_jsx(\"td\",{children:MAN[key].place}),/*#__PURE__*/_jsx(\"td\",{children:MAN[key].addr})]},key);})})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Distributors:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlerSubmitDIS,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangeAddressDIS,placeholder:\"Ethereum Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangeNameDIS,placeholder:\"Distributor Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangePlaceDIS,placeholder:\"Based In\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success btn-sm\",onSubmit:handlerSubmitDIS,children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Place\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Ethereum Address\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(DIS).map(function(key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:DIS[key].id}),/*#__PURE__*/_jsx(\"td\",{children:DIS[key].name}),/*#__PURE__*/_jsx(\"td\",{children:DIS[key].place}),/*#__PURE__*/_jsx(\"td\",{children:DIS[key].addr})]},key);})})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Retailers:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlerSubmitRET,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangeAddressRET,placeholder:\"Ethereum Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangeNameRET,placeholder:\"Retailer Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control-sm\",type:\"text\",onChange:handlerChangePlaceRET,placeholder:\"Based In\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success btn-sm\",onSubmit:handlerSubmitRET,children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Place\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Ethereum Address\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(RET).map(function(key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:RET[key].id}),/*#__PURE__*/_jsx(\"td\",{children:RET[key].name}),/*#__PURE__*/_jsx(\"td\",{children:RET[key].place}),/*#__PURE__*/_jsx(\"td\",{children:RET[key].addr})]},key);})})]})]});}export default AssignRoles;","map":{"version":3,"sources":["D:/Blockchain Project/client/src/AssignRoles.js"],"names":["React","useState","useEffect","Web3","SupplyChainABI","useHistory","AssignRoles","history","loadWeb3","loadBlockchaindata","currentaccount","setCurrentaccount","loader","setloader","SupplyChain","setSupplyChain","RMSname","setRMSname","MANname","setMANname","DISname","setDISname","RETname","setRETname","RMSplace","setRMSplace","MANplace","setMANplace","DISplace","setDISplace","RETplace","setRETplace","RMSaddress","setRMSaddress","MANaddress","setMANaddress","DISaddress","setDISaddress","RETaddress","setRETaddress","RMS","setRMS","MAN","setMAN","DIS","setDIS","RET","setRET","window","ethereum","web3","enable","currentProvider","alert","eth","getAccounts","accounts","account","net","getId","networkId","console","log","networkData","networks","supplychain","Contract","abi","address","methods","rmsCtr","call","rms","i","manCtr","man","disCtr","dis","retCtr","ret","redirect_to_home","push","handlerChangeAddressRMS","event","target","value","handlerChangePlaceRMS","handlerChangeNameRMS","handlerChangeAddressMAN","handlerChangePlaceMAN","handlerChangeNameMAN","handlerChangeAddressDIS","handlerChangePlaceDIS","handlerChangeNameDIS","handlerChangeAddressRET","handlerChangePlaceRET","handlerChangeNameRET","handlerSubmitRMS","preventDefault","addRMS","send","from","reciept","handlerSubmitMAN","addManufacturer","handlerSubmitDIS","addDistributor","handlerSubmitRET","addRetailer","Object","keys","map","key","id","name","place","addr"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Web3 from \"web3\";\nimport SupplyChainABI from \"./artifacts/SupplyChain.json\"\nimport { useHistory } from \"react-router-dom\"\n\nfunction AssignRoles() {\n    const history = useHistory()\n    useEffect(() => {\n        loadWeb3();\n        loadBlockchaindata();\n    }, [])\n    const [currentaccount, setCurrentaccount] = useState(\"\");\n    const [loader, setloader] = useState(true);\n    const [SupplyChain, setSupplyChain] = useState();\n    const [RMSname, setRMSname] = useState();\n    const [MANname, setMANname] = useState();\n    const [DISname, setDISname] = useState();\n    const [RETname, setRETname] = useState();\n    const [RMSplace, setRMSplace] = useState();\n    const [MANplace, setMANplace] = useState();\n    const [DISplace, setDISplace] = useState();\n    const [RETplace, setRETplace] = useState();\n    const [RMSaddress, setRMSaddress] = useState();\n    const [MANaddress, setMANaddress] = useState();\n    const [DISaddress, setDISaddress] = useState();\n    const [RETaddress, setRETaddress] = useState();\n    const [RMS, setRMS] = useState();\n    const [MAN, setMAN] = useState();\n    const [DIS, setDIS] = useState();\n    const [RET, setRET] = useState();\n\n    const loadWeb3 = async () => {\n        if (window.ethereum) {\n            window.web3 = new Web3(window.ethereum);\n            await window.ethereum.enable();\n        } else if (window.web3) {\n            window.web3 = new Web3(window.web3.currentProvider);\n        } else {\n            window.alert(\n                \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n            );\n        }\n    };\n\n    const loadBlockchaindata = async () => {\n        setloader(true);\n        const web3 = window.web3;\n        const accounts = await web3.eth.getAccounts();\n        const account = accounts[0];\n        setCurrentaccount(account);\n        const networkId = await web3.eth.net.getId();\n        console.log(networkId)\n\n        const networkData = SupplyChainABI.networks[networkId];\n        if (networkData) {\n            const supplychain = new web3.eth.Contract(SupplyChainABI.abi, networkData.address);\n            setSupplyChain(supplychain);\n            var i;\n            const rmsCtr = await supplychain.methods.rmsCtr().call();\n            const rms = {};\n            for (i = 0; i < rmsCtr; i++) {\n                rms[i] = await supplychain.methods.RMS(i + 1).call();\n            }\n            setRMS(rms);\n            const manCtr = await supplychain.methods.manCtr().call();\n            const man = {};\n            for (i = 0; i < manCtr; i++) {\n                man[i] = await supplychain.methods.MAN(i + 1).call();\n            }\n            setMAN(man);\n            const disCtr = await supplychain.methods.disCtr().call();\n            const dis = {};\n            for (i = 0; i < disCtr; i++) {\n                dis[i] = await supplychain.methods.DIS(i + 1).call();\n            }\n            setDIS(dis);\n            const retCtr = await supplychain.methods.retCtr().call();\n            const ret = {};\n            for (i = 0; i < retCtr; i++) {\n                ret[i] = await supplychain.methods.RET(i + 1).call();\n            }\n            setRET(ret);\n            setloader(false);\n        }\n        else {\n            window.alert('The smart contract is not deployed to current network')\n        }\n    }\n    if (loader) {\n        return (\n            <div>\n                <h1 className=\"wait\">Loading...</h1>\n            </div>\n        )\n\n    }\n    const redirect_to_home = () => {\n        history.push('/')\n    }\n    const handlerChangeAddressRMS = (event) => {\n        setRMSaddress(event.target.value);\n    }\n    const handlerChangePlaceRMS = (event) => {\n        setRMSplace(event.target.value);\n    }\n    const handlerChangeNameRMS = (event) => {\n        setRMSname(event.target.value);\n    }\n    const handlerChangeAddressMAN = (event) => {\n        setMANaddress(event.target.value);\n    }\n    const handlerChangePlaceMAN = (event) => {\n        setMANplace(event.target.value);\n    }\n    const handlerChangeNameMAN = (event) => {\n        setMANname(event.target.value);\n    }\n    const handlerChangeAddressDIS = (event) => {\n        setDISaddress(event.target.value);\n    }\n    const handlerChangePlaceDIS = (event) => {\n        setDISplace(event.target.value);\n    }\n    const handlerChangeNameDIS = (event) => {\n        setDISname(event.target.value);\n    }\n    const handlerChangeAddressRET = (event) => {\n        setRETaddress(event.target.value);\n    }\n    const handlerChangePlaceRET = (event) => {\n        setRETplace(event.target.value);\n    }\n    const handlerChangeNameRET = (event) => {\n        setRETname(event.target.value);\n    }\n    const handlerSubmitRMS = async (event) => {\n        event.preventDefault();\n        try {\n            var reciept = await SupplyChain.methods.addRMS(RMSaddress, RMSname, RMSplace).send({ from: currentaccount });\n            if (reciept) {\n                loadBlockchaindata();\n            }\n        }\n        catch (err) {\n            alert(\"An error occured!!!\")\n        }\n    }\n    const handlerSubmitMAN = async (event) => {\n        event.preventDefault();\n        try {\n            var reciept = await SupplyChain.methods.addManufacturer(MANaddress, MANname, MANplace).send({ from: currentaccount });\n            if (reciept) {\n                loadBlockchaindata();\n            }\n        }\n        catch (err) {\n            alert(\"An error occured!!!\")\n        }\n    }\n    const handlerSubmitDIS = async (event) => {\n        event.preventDefault();\n        try {\n            var reciept = await SupplyChain.methods.addDistributor(DISaddress, DISname, DISplace).send({ from: currentaccount });\n            if (reciept) {\n                loadBlockchaindata();\n            }\n        }\n        catch (err) {\n            alert(\"An error occured!!!\")\n        }\n    }\n    const handlerSubmitRET = async (event) => {\n        event.preventDefault();\n        try {\n            var reciept = await SupplyChain.methods.addRetailer(RETaddress, RETname, RETplace).send({ from: currentaccount });\n            if (reciept) {\n                loadBlockchaindata();\n            }\n        }\n        catch (err) {\n            alert(\"An error occured!!!\")\n        }\n    }\n\n\n\n    return (\n        <div>\n            <span><b>Current Account Address:</b> {currentaccount}</span>\n            <span onClick={redirect_to_home} className=\"btn btn-outline-danger btn-sm\">HOME</span>\n            <h4>Raw Material Suppliers:</h4>\n            <form onSubmit={handlerSubmitRMS}>\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeAddressRMS} placeholder=\"Ethereum Address\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeNameRMS} placeholder=\"Raw Material Supplier Name\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangePlaceRMS} placeholder=\"Based In\" required />\n                <button className=\"btn btn-outline-success btn-sm\" onSubmit={handlerSubmitRMS}>Register</button>\n            </form>\n            <table className=\"table table-sm\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">ID</th>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Place</th>\n                        <th scope=\"col\">Ethereum Address</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(RMS).map(function (key) {\n                        return (\n                            <tr key={key}>\n                                <td>{RMS[key].id}</td>\n                                <td>{RMS[key].name}</td>\n                                <td>{RMS[key].place}</td>\n                                <td>{RMS[key].addr}</td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n            <h4>Manufacturers:</h4>\n            <form onSubmit={handlerSubmitMAN}>\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeAddressMAN} placeholder=\"Ethereum Address\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeNameMAN} placeholder=\"Manufacturer Name\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangePlaceMAN} placeholder=\"Based In\" required />\n                <button className=\"btn btn-outline-success btn-sm\" onSubmit={handlerSubmitMAN}>Register</button>\n            </form>\n            <table className=\"table table-sm\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">ID</th>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Place</th>\n                        <th scope=\"col\">Ethereum Address</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(MAN).map(function (key) {\n                        return (\n                            <tr key={key}>\n                                <td>{MAN[key].id}</td>\n                                <td>{MAN[key].name}</td>\n                                <td>{MAN[key].place}</td>\n                                <td>{MAN[key].addr}</td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n            <h4>Distributors:</h4>\n            <form onSubmit={handlerSubmitDIS}>\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeAddressDIS} placeholder=\"Ethereum Address\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeNameDIS} placeholder=\"Distributor Name\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangePlaceDIS} placeholder=\"Based In\" required />\n                <button className=\"btn btn-outline-success btn-sm\" onSubmit={handlerSubmitDIS}>Register</button>\n            </form>\n            <table className=\"table table-sm\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">ID</th>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Place</th>\n                        <th scope=\"col\">Ethereum Address</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(DIS).map(function (key) {\n                        return (\n                            <tr key={key}>\n                                <td>{DIS[key].id}</td>\n                                <td>{DIS[key].name}</td>\n                                <td>{DIS[key].place}</td>\n                                <td>{DIS[key].addr}</td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n            <h4>Retailers:</h4>\n            <form onSubmit={handlerSubmitRET}>\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeAddressRET} placeholder=\"Ethereum Address\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeNameRET} placeholder=\"Retailer Name\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangePlaceRET} placeholder=\"Based In\" required />\n                <button className=\"btn btn-outline-success btn-sm\" onSubmit={handlerSubmitRET}>Register</button>\n            </form>\n            <table className=\"table table-sm\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">ID</th>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Place</th>\n                        <th scope=\"col\">Ethereum Address</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(RET).map(function (key) {\n                        return (\n                            <tr key={key}>\n                                <td>{RET[key].id}</td>\n                                <td>{RET[key].name}</td>\n                                <td>{RET[key].place}</td>\n                                <td>{RET[key].addr}</td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default AssignRoles\n"]},"metadata":{},"sourceType":"module"}