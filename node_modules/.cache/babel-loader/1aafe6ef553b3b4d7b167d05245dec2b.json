{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shres\\\\Downloads\\\\supply-chain-truffle-react-main\\\\supply-chain-truffle-react-main\\\\client\\\\src\\\\AssignRoles.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Web3 from \"web3\";\nimport SupplyChainABI from \"./artifacts/SupplyChain.json\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AssignRoles() {\n  _s();\n\n  const history = useHistory();\n  useEffect(() => {\n    loadWeb3();\n    loadBlockchaindata();\n  }, []);\n  const [currentaccount, setCurrentaccount] = useState(\"\");\n  const [loader, setloader] = useState(true);\n  const [SupplyChain, setSupplyChain] = useState();\n  const [RMSname, setRMSname] = useState();\n  const [MANname, setMANname] = useState();\n  const [DISname, setDISname] = useState();\n  const [RETname, setRETname] = useState();\n  const [RMSplace, setRMSplace] = useState();\n  const [MANplace, setMANplace] = useState();\n  const [DISplace, setDISplace] = useState();\n  const [RETplace, setRETplace] = useState();\n  const [RMSaddress, setRMSaddress] = useState();\n  const [MANaddress, setMANaddress] = useState();\n  const [DISaddress, setDISaddress] = useState();\n  const [RETaddress, setRETaddress] = useState();\n  const [RMS, setRMS] = useState();\n  const [MAN, setMAN] = useState();\n  const [DIS, setDIS] = useState();\n  const [RET, setRET] = useState();\n\n  const loadWeb3 = async () => {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      window.alert(\"Non-Ethereum browser detected. You should consider trying MetaMask!\");\n    }\n  };\n\n  const loadBlockchaindata = async () => {\n    setloader(true);\n    const web3 = window.web3;\n    const accounts = await web3.eth.getAccounts();\n    const account = accounts[0];\n    setCurrentaccount(account);\n    const networkId = await web3.eth.net.getId();\n    console.log(networkId);\n    const networkData = SupplyChainABI.networks[5777];\n    console.log(networkData);\n\n    if (networkData) {\n      const supplychain = new web3.eth.Contract(SupplyChainABI.abi, networkData.address);\n      setSupplyChain(supplychain);\n      var i;\n      const rmsCtr = await supplychain.methods.rmsCtr().call();\n      const rms = {};\n\n      for (i = 0; i < rmsCtr; i++) {\n        rms[i] = await supplychain.methods.RMS(i + 1).call();\n      }\n\n      setRMS(rms);\n      const manCtr = await supplychain.methods.manCtr().call();\n      const man = {};\n\n      for (i = 0; i < manCtr; i++) {\n        man[i] = await supplychain.methods.MAN(i + 1).call();\n      }\n\n      setMAN(man);\n      const disCtr = await supplychain.methods.disCtr().call();\n      const dis = {};\n\n      for (i = 0; i < disCtr; i++) {\n        dis[i] = await supplychain.methods.DIS(i + 1).call();\n      }\n\n      setDIS(dis);\n      const retCtr = await supplychain.methods.retCtr().call();\n      const ret = {};\n\n      for (i = 0; i < retCtr; i++) {\n        ret[i] = await supplychain.methods.RET(i + 1).call();\n      }\n\n      setRET(ret);\n      setloader(false);\n    } else {\n      window.alert('The smart contract is not deployed to current network');\n    }\n  };\n\n  if (loader) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"wait\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this);\n  }\n\n  const redirect_to_home = () => {\n    history.push('/');\n  };\n\n  const handlerChangeAddressRMS = event => {\n    setRMSaddress(event.target.value);\n  };\n\n  const handlerChangePlaceRMS = event => {\n    setRMSplace(event.target.value);\n  };\n\n  const handlerChangeNameRMS = event => {\n    setRMSname(event.target.value);\n  };\n\n  const handlerChangeAddressMAN = event => {\n    setMANaddress(event.target.value);\n  };\n\n  const handlerChangePlaceMAN = event => {\n    setMANplace(event.target.value);\n  };\n\n  const handlerChangeNameMAN = event => {\n    setMANname(event.target.value);\n  };\n\n  const handlerChangeAddressDIS = event => {\n    setDISaddress(event.target.value);\n  };\n\n  const handlerChangePlaceDIS = event => {\n    setDISplace(event.target.value);\n  };\n\n  const handlerChangeNameDIS = event => {\n    setDISname(event.target.value);\n  };\n\n  const handlerChangeAddressRET = event => {\n    setRETaddress(event.target.value);\n  };\n\n  const handlerChangePlaceRET = event => {\n    setRETplace(event.target.value);\n  };\n\n  const handlerChangeNameRET = event => {\n    setRETname(event.target.value);\n  };\n\n  const handlerSubmitRMS = async event => {\n    event.preventDefault();\n\n    try {\n      var reciept = await SupplyChain.methods.addRMS(RMSaddress, RMSname, RMSplace).send({\n        from: currentaccount\n      });\n\n      if (reciept) {\n        loadBlockchaindata();\n      }\n    } catch (err) {\n      alert(\"An error occured!!!\");\n    }\n  };\n\n  const handlerSubmitMAN = async event => {\n    event.preventDefault();\n\n    try {\n      var reciept = await SupplyChain.methods.addManufacturer(MANaddress, MANname, MANplace).send({\n        from: currentaccount\n      });\n\n      if (reciept) {\n        loadBlockchaindata();\n      }\n    } catch (err) {\n      alert(\"An error occured!!!\");\n    }\n  };\n\n  const handlerSubmitDIS = async event => {\n    event.preventDefault();\n\n    try {\n      var reciept = await SupplyChain.methods.addDistributor(DISaddress, DISname, DISplace).send({\n        from: currentaccount\n      });\n\n      if (reciept) {\n        loadBlockchaindata();\n      }\n    } catch (err) {\n      alert(\"An error occured!!!\");\n    }\n  };\n\n  const handlerSubmitRET = async event => {\n    event.preventDefault();\n\n    try {\n      var reciept = await SupplyChain.methods.addRetailer(RETaddress, RETname, RETplace).send({\n        from: currentaccount\n      });\n\n      if (reciept) {\n        loadBlockchaindata();\n      }\n    } catch (err) {\n      alert(\"An error occured!!!\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Current Account Address:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 19\n      }, this), \" \", currentaccount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: redirect_to_home,\n      className: \"btn btn-outline-danger btn-sm\",\n      children: \"HOME\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Raw Material Suppliers:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handlerSubmitRMS,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangeAddressRMS,\n        placeholder: \"Ethereum Address\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangeNameRMS,\n        placeholder: \"Raw Material Supplier Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangePlaceRMS,\n        placeholder: \"Based In\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-success btn-sm\",\n        onSubmit: handlerSubmitRMS,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Place\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Ethereum Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: Object.keys(RMS).map(function (key) {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: RMS[key].id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: RMS[key].name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: RMS[key].place\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: RMS[key].addr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 33\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Manufacturers:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handlerSubmitMAN,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangeAddressMAN,\n        placeholder: \"Ethereum Address\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangeNameMAN,\n        placeholder: \"Manufacturer Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangePlaceMAN,\n        placeholder: \"Based In\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-success btn-sm\",\n        onSubmit: handlerSubmitMAN,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Place\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Ethereum Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: Object.keys(MAN).map(function (key) {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: MAN[key].id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: MAN[key].name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: MAN[key].place\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: MAN[key].addr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 33\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Distributors:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handlerSubmitDIS,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangeAddressDIS,\n        placeholder: \"Ethereum Address\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangeNameDIS,\n        placeholder: \"Distributor Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangePlaceDIS,\n        placeholder: \"Based In\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-success btn-sm\",\n        onSubmit: handlerSubmitDIS,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Place\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Ethereum Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: Object.keys(DIS).map(function (key) {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: DIS[key].id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: DIS[key].name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: DIS[key].place\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: DIS[key].addr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 33\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Retailers:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handlerSubmitRET,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangeAddressRET,\n        placeholder: \"Ethereum Address\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangeNameRET,\n        placeholder: \"Retailer Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control-sm\",\n        type: \"text\",\n        onChange: handlerChangePlaceRET,\n        placeholder: \"Based In\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-success btn-sm\",\n        onSubmit: handlerSubmitRET,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Place\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Ethereum Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: Object.keys(RET).map(function (key) {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: RET[key].id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: RET[key].name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: RET[key].place\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: RET[key].addr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 33\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AssignRoles, \"E/fns9WrDiPzQT1BUVEM3vP1RD8=\", false, function () {\n  return [useHistory];\n});\n\n_c = AssignRoles;\nexport default AssignRoles;\n\nvar _c;\n\n$RefreshReg$(_c, \"AssignRoles\");","map":{"version":3,"sources":["C:/Users/shres/Downloads/supply-chain-truffle-react-main/supply-chain-truffle-react-main/client/src/AssignRoles.js"],"names":["React","useState","useEffect","Web3","SupplyChainABI","useHistory","AssignRoles","history","loadWeb3","loadBlockchaindata","currentaccount","setCurrentaccount","loader","setloader","SupplyChain","setSupplyChain","RMSname","setRMSname","MANname","setMANname","DISname","setDISname","RETname","setRETname","RMSplace","setRMSplace","MANplace","setMANplace","DISplace","setDISplace","RETplace","setRETplace","RMSaddress","setRMSaddress","MANaddress","setMANaddress","DISaddress","setDISaddress","RETaddress","setRETaddress","RMS","setRMS","MAN","setMAN","DIS","setDIS","RET","setRET","window","ethereum","web3","enable","currentProvider","alert","accounts","eth","getAccounts","account","networkId","net","getId","console","log","networkData","networks","supplychain","Contract","abi","address","i","rmsCtr","methods","call","rms","manCtr","man","disCtr","dis","retCtr","ret","redirect_to_home","push","handlerChangeAddressRMS","event","target","value","handlerChangePlaceRMS","handlerChangeNameRMS","handlerChangeAddressMAN","handlerChangePlaceMAN","handlerChangeNameMAN","handlerChangeAddressDIS","handlerChangePlaceDIS","handlerChangeNameDIS","handlerChangeAddressRET","handlerChangePlaceRET","handlerChangeNameRET","handlerSubmitRMS","preventDefault","reciept","addRMS","send","from","err","handlerSubmitMAN","addManufacturer","handlerSubmitDIS","addDistributor","handlerSubmitRET","addRetailer","Object","keys","map","key","id","name","place","addr"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Web3 from \"web3\";\nimport SupplyChainABI from \"./artifacts/SupplyChain.json\"\nimport { useHistory } from \"react-router-dom\"\n\nfunction AssignRoles() {\n    const history = useHistory()\n    useEffect(() => {\n        loadWeb3();\n        loadBlockchaindata();\n    }, [])\n    const [currentaccount, setCurrentaccount] = useState(\"\");\n    const [loader, setloader] = useState(true);\n    const [SupplyChain, setSupplyChain] = useState();\n    const [RMSname, setRMSname] = useState();\n    const [MANname, setMANname] = useState();\n    const [DISname, setDISname] = useState();\n    const [RETname, setRETname] = useState();\n    const [RMSplace, setRMSplace] = useState();\n    const [MANplace, setMANplace] = useState();\n    const [DISplace, setDISplace] = useState();\n    const [RETplace, setRETplace] = useState();\n    const [RMSaddress, setRMSaddress] = useState();\n    const [MANaddress, setMANaddress] = useState();\n    const [DISaddress, setDISaddress] = useState();\n    const [RETaddress, setRETaddress] = useState();\n    const [RMS, setRMS] = useState();\n    const [MAN, setMAN] = useState();\n    const [DIS, setDIS] = useState();\n    const [RET, setRET] = useState();\n\n    const loadWeb3 = async () => {\n        if (window.ethereum) {\n            window.web3 = new Web3(window.ethereum);\n            await window.ethereum.enable();\n        } else if (window.web3) {\n            window.web3 = new Web3(window.web3.currentProvider);\n        } else {\n            window.alert(\n                \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n            );\n        }\n    };\n\n    const loadBlockchaindata = async () => {\n        setloader(true);\n        const web3 = window.web3;\n        const accounts = await web3.eth.getAccounts();\n        const account = accounts[0];\n        setCurrentaccount(account);\n        const networkId = await web3.eth.net.getId();\n        console.log(networkId)\n        const networkData = SupplyChainABI.networks[5777];\n        console.log(networkData)\n        if (networkData) {\n            const supplychain = new web3.eth.Contract(SupplyChainABI.abi, networkData.address);\n            setSupplyChain(supplychain);\n            var i;\n            const rmsCtr = await supplychain.methods.rmsCtr().call();\n            const rms = {};\n            for (i = 0; i < rmsCtr; i++) {\n                rms[i] = await supplychain.methods.RMS(i + 1).call();\n            }\n            setRMS(rms);\n            const manCtr = await supplychain.methods.manCtr().call();\n            const man = {};\n            for (i = 0; i < manCtr; i++) {\n                man[i] = await supplychain.methods.MAN(i + 1).call();\n            }\n            setMAN(man);\n            const disCtr = await supplychain.methods.disCtr().call();\n            const dis = {};\n            for (i = 0; i < disCtr; i++) {\n                dis[i] = await supplychain.methods.DIS(i + 1).call();\n            }\n            setDIS(dis);\n            const retCtr = await supplychain.methods.retCtr().call();\n            const ret = {};\n            for (i = 0; i < retCtr; i++) {\n                ret[i] = await supplychain.methods.RET(i + 1).call();\n            }\n            setRET(ret);\n            setloader(false);\n        }\n        else {\n            window.alert('The smart contract is not deployed to current network')\n        }\n    }\n    if (loader) {\n        return (\n            <div>\n                <h1 className=\"wait\">Loading...</h1>\n            </div>\n        )\n\n    }\n    const redirect_to_home = () => {\n        history.push('/')\n    }\n    const handlerChangeAddressRMS = (event) => {\n        setRMSaddress(event.target.value);\n    }\n    const handlerChangePlaceRMS = (event) => {\n        setRMSplace(event.target.value);\n    }\n    const handlerChangeNameRMS = (event) => {\n        setRMSname(event.target.value);\n    }\n    const handlerChangeAddressMAN = (event) => {\n        setMANaddress(event.target.value);\n    }\n    const handlerChangePlaceMAN = (event) => {\n        setMANplace(event.target.value);\n    }\n    const handlerChangeNameMAN = (event) => {\n        setMANname(event.target.value);\n    }\n    const handlerChangeAddressDIS = (event) => {\n        setDISaddress(event.target.value);\n    }\n    const handlerChangePlaceDIS = (event) => {\n        setDISplace(event.target.value);\n    }\n    const handlerChangeNameDIS = (event) => {\n        setDISname(event.target.value);\n    }\n    const handlerChangeAddressRET = (event) => {\n        setRETaddress(event.target.value);\n    }\n    const handlerChangePlaceRET = (event) => {\n        setRETplace(event.target.value);\n    }\n    const handlerChangeNameRET = (event) => {\n        setRETname(event.target.value);\n    }\n    const handlerSubmitRMS = async (event) => {\n        event.preventDefault();\n        try {\n            var reciept = await SupplyChain.methods.addRMS(RMSaddress, RMSname, RMSplace).send({ from: currentaccount });\n            if (reciept) {\n                loadBlockchaindata();\n            }\n        }\n        catch (err) {\n            alert(\"An error occured!!!\")\n        }\n    }\n    const handlerSubmitMAN = async (event) => {\n        event.preventDefault();\n        try {\n            var reciept = await SupplyChain.methods.addManufacturer(MANaddress, MANname, MANplace).send({ from: currentaccount });\n            if (reciept) {\n                loadBlockchaindata();\n            }\n        }\n        catch (err) {\n            alert(\"An error occured!!!\")\n        }\n    }\n    const handlerSubmitDIS = async (event) => {\n        event.preventDefault();\n        try {\n            var reciept = await SupplyChain.methods.addDistributor(DISaddress, DISname, DISplace).send({ from: currentaccount });\n            if (reciept) {\n                loadBlockchaindata();\n            }\n        }\n        catch (err) {\n            alert(\"An error occured!!!\")\n        }\n    }\n    const handlerSubmitRET = async (event) => {\n        event.preventDefault();\n        try {\n            var reciept = await SupplyChain.methods.addRetailer(RETaddress, RETname, RETplace).send({ from: currentaccount });\n            if (reciept) {\n                loadBlockchaindata();\n            }\n        }\n        catch (err) {\n            alert(\"An error occured!!!\")\n        }\n    }\n\n\n\n    return (\n        <div>\n            <span><b>Current Account Address:</b> {currentaccount}</span>\n            <span onClick={redirect_to_home} className=\"btn btn-outline-danger btn-sm\">HOME</span>\n            <h4>Raw Material Suppliers:</h4>\n            <form onSubmit={handlerSubmitRMS}>\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeAddressRMS} placeholder=\"Ethereum Address\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeNameRMS} placeholder=\"Raw Material Supplier Name\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangePlaceRMS} placeholder=\"Based In\" required />\n                <button className=\"btn btn-outline-success btn-sm\" onSubmit={handlerSubmitRMS}>Register</button>\n            </form>\n            <table className=\"table table-sm\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">ID</th>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Place</th>\n                        <th scope=\"col\">Ethereum Address</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(RMS).map(function (key) {\n                        return (\n                            <tr key={key}>\n                                <td>{RMS[key].id}</td>\n                                <td>{RMS[key].name}</td>\n                                <td>{RMS[key].place}</td>\n                                <td>{RMS[key].addr}</td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n            <h4>Manufacturers:</h4>\n            <form onSubmit={handlerSubmitMAN}>\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeAddressMAN} placeholder=\"Ethereum Address\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeNameMAN} placeholder=\"Manufacturer Name\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangePlaceMAN} placeholder=\"Based In\" required />\n                <button className=\"btn btn-outline-success btn-sm\" onSubmit={handlerSubmitMAN}>Register</button>\n            </form>\n            <table className=\"table table-sm\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">ID</th>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Place</th>\n                        <th scope=\"col\">Ethereum Address</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(MAN).map(function (key) {\n                        return (\n                            <tr key={key}>\n                                <td>{MAN[key].id}</td>\n                                <td>{MAN[key].name}</td>\n                                <td>{MAN[key].place}</td>\n                                <td>{MAN[key].addr}</td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n            <h4>Distributors:</h4>\n            <form onSubmit={handlerSubmitDIS}>\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeAddressDIS} placeholder=\"Ethereum Address\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeNameDIS} placeholder=\"Distributor Name\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangePlaceDIS} placeholder=\"Based In\" required />\n                <button className=\"btn btn-outline-success btn-sm\" onSubmit={handlerSubmitDIS}>Register</button>\n            </form>\n            <table className=\"table table-sm\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">ID</th>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Place</th>\n                        <th scope=\"col\">Ethereum Address</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(DIS).map(function (key) {\n                        return (\n                            <tr key={key}>\n                                <td>{DIS[key].id}</td>\n                                <td>{DIS[key].name}</td>\n                                <td>{DIS[key].place}</td>\n                                <td>{DIS[key].addr}</td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n            <h4>Retailers:</h4>\n            <form onSubmit={handlerSubmitRET}>\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeAddressRET} placeholder=\"Ethereum Address\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangeNameRET} placeholder=\"Retailer Name\" required />\n                <input className=\"form-control-sm\" type=\"text\" onChange={handlerChangePlaceRET} placeholder=\"Based In\" required />\n                <button className=\"btn btn-outline-success btn-sm\" onSubmit={handlerSubmitRET}>Register</button>\n            </form>\n            <table className=\"table table-sm\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">ID</th>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Place</th>\n                        <th scope=\"col\">Ethereum Address</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(RET).map(function (key) {\n                        return (\n                            <tr key={key}>\n                                <td>{RET[key].id}</td>\n                                <td>{RET[key].name}</td>\n                                <td>{RET[key].place}</td>\n                                <td>{RET[key].addr}</td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default AssignRoles\n"]},"metadata":{},"sourceType":"module"}